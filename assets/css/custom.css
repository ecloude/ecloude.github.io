/* --- 1. THEME RESTORATION (FORCING LIGHT MODE) --- */
/* This is the default for all pages that ARE NOT the lab page. */

body:not(.lab-page-bg) {
    background: #ffffff !important; /* Use shorthand for highest priority */
    color: #333 !important;
}
body:not(.lab-page-bg) #main,
body:not(.lab-page-bg) .page__footer {
    background: #ffffff !important;
    color: #333 !important;
}

/* --- 2. TARGETED LAB PAGE STYLES (CLOUDS PAGE ONLY) --- */

@keyframes cloud-drift {
    0% { background-position-x: 0; }
    /* UPDATED: Clouds now drift 2x as far for a better loop */
    100% { background-position-x: 200%; }
}

/* Lab page body (dark sky AND CLOUDS) */
body.lab-page-bg {
    color: #e0e0e0 !important;
    
    /* * THE FINAL FIX: 
     * We combine all background properties into ONE rule.
     * This is the highest-priority way to set a background
     * and will override your theme's defaults.
    */
    background:
        /* 1. The Gradient (top layer) */
        linear-gradient(to bottom, 
            rgba(13, 13, 13, 0) 0%, 
            rgba(13, 13, 13, 1) 100% 
        ),
        /* 2. The Image URL (middle layer) */
        url("https://ecloude.github.io/assets/images/clouds_lab.png"),
        /* 3. The Fallback Color (bottom layer) */
        #0d0d0d !important;
        
    /* Additional properties for the background */
    background-attachment: fixed !important;
    background-position: center top !important; 
    
    /* UPDATED: Changed from 100vh to 100% for clarity */
    background-size: auto 100% !important;
    
    background-repeat: repeat-x !important;
    
    /* UPDATED: Animation is now 2x faster (60s) */
    animation: cloud-drift 60s linear infinite !important;
    
    /* This locks the body and prevents IT from scrolling */
    overflow: hidden !important;
}

/* Lab page content box (NOW SCROLLABLE) */
.lab-page-bg #main { 
    background-color: rgba(10, 10, 10, 0.98) !important; 
    padding: 30px !important; 
    margin: 40px auto !important; 
    max-width: 900px !important;
    border-radius: 10px !important; 
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.9) !important;
    color: #e0e0e0 !important; 
    
    /* This makes the CONTENT BOX scroll, not the page */
    height: 90vh !important;
    overflow-y: auto !important;
}

/* Lab page headings/links */
.lab-page-bg h1, .lab-page-bg h2, .lab-page-bg h3, .lab-page-bg h4 {
    color: #ffffff !important;
}
.lab-page-bg a {
    color: #87ceeb !important;
}
